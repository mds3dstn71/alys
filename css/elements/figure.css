/*!
 *  Copyright 2017-2018 Rodger Jordas
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

/* =====================================
 * Figure
 * =====================================
 * Images, code, etc. inside figure
 * elements
 *
 * Max Specifity: 3 (0-0-3)
 */
figure {
  border-radius: 0.5rem;
  margin: 0 auto var(--element--margin-bottom);
  overflow: hidden;
  padding: 0;
  max-width: fit-content;

  & > * {
    margin: 0.8rem;
  }

  & img {
    display: block;
    margin: 0 auto;
    max-width: 100%;
    vertical-align: top;
  }

  & figcaption {
    font-weight: 300;
    margin: 0;
    padding: 0.8rem;
    text-align: center;
  }

  /* lt Edge 16 */
  @supports (display: -ms-grid) {
    border-radius: 0;
    display: table;

    & > * ~ figcaption {
      caption-side: top;
    }

    & figcaption {
      border: var(--figure__img--border);
      display: table-caption;
    }

    & img ~ figcaption {
      caption-side: bottom;
    }
  }

  /* lte IE 11 */
  @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
    border-radius: 0;
    display: table;
    max-width: 100%;

    & img {
      display: block;
      width: 100%;
      max-width: 96rem;
    }

    & > * ~ figcaption {
      caption-side: top;
    }

    & figcaption {
      border: var(--figure__img--border);
      display: table-caption;
    }

    & img ~ figcaption {
      caption-side: bottom;
    }
  }
}

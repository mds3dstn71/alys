import { Meta, Preview, Story } from '@storybook/addon-docs/blocks';

import { Modal } from './modal';
import { Centered } from './internal/centered';
import { ModalRoot } from './internal/modal-root';
import { ModalExample } from './internal/modal-example';

<Meta title="Utility/Modal" component={Modal} />

# Modal

Modals are useful for showing prompts that the user must immediately resolve in order to move on
with some process. The whole screen will be dimmed and some dialog component will be presented where
UI elements will accept input to either confirm and proceed or cancel.

## Usage

This is a relatively lower level component so you must add first the modal root, the UI elements
for showing the modal, and the Modal contents to appear when the modal is opened.

The modal root is a container where the modal contents will be "injected". If the React application
is rendered in a `div#app-root`, the modal root should be placed as a sibling to it. The modal root
ID must be `modal-root` and usually, there should only be one modal root for the whole application.

```html
<body>
  <div id="modal-root"></div>
  <div id="app-root"></div>
</body>
```

The modal can be opened programmatically, after some asynchronous operation has finished, e.g.
fetching some data results in a failure, a timer has finished, etc., but it can also be opened
through UI elements like buttons:

```jsx
<button onClick={toggleModal}>Show modal</button>
```

The modal contents are can be shown conditionally inside stateful components:

```jsx
state.showModal ? (
  <Modal>
    Hello <button onClick={toggleModal}>Close modal</button>
  </Modal>
) : null;
```

<Props of={Modal} />

### Demo

Click the button below to show a simple modal. Once the modal is shown, there is another butotn to
close the modal.

<Story
  name="Modal/Example"
  decorators={[
  (StoryFn) => (
    <Centered>
      <ModalRoot />
      <StoryFn />
    </Centered>
  )]}
>
  <ModalExample />
</Story>
